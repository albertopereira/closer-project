webpackJsonp([1],{"0Ckn":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"treemap",staticClass:"treemap"},[a("svg",{staticStyle:{"margin-left":"0px"},attrs:{height:t.height,width:t.width}},[a("g",{staticStyle:{"shape-rendering":"crispEdges"},attrs:{transform:"translate(0,20)"}},[a("transition-group",{staticClass:"depth",attrs:{name:"list",tag:"g"}},t._l(t.selectedNode._children,function(e,s){return t.selectedNode?a("g",{key:"c_"+e.id,staticClass:"children"},[t._l(e._children,function(e){return a("rect",{key:e.id,staticClass:"child",attrs:{id:e.id,height:t.y(e.y1)-t.y(e.y0),width:t.x(e.x1)-t.x(e.x0),x:t.x(e.x0),y:t.y(e.y0)}},[a("title",[t._v(t._s(e.data.key)+" | "+t._s(e.value))])])}),t._v(" "),a("rect",{key:e.id,staticClass:"parent",style:{fill:t.color(s)},attrs:{id:e.id,x:t.x(e.x0),y:t.y(e.y0),width:t.x(e.x1-e.x0+e.parent.x0),height:t.y(e.y1-e.y0+e.parent.y0)},on:{click:function(e){e.preventDefault(),t.selectNode(e)}}},[a("title",[t._v(t._s(e.data.key)+" | "+t._s(t.formatcurrency(e.value)))])]),t._v(" "),a("text",{key:"t_"+e.id,staticStyle:{"fill-opacity":".7"},attrs:{dy:"1em",x:t.x(e.x0)+6,y:t.y(e.y0)+6}},[t._v(t._s(e.data.key))]),t._v(" "),a("text",{key:"t_"+e.id,staticStyle:{"fill-opacity":".7"},attrs:{dy:"2.25em",x:t.x(e.x0)+6,y:t.y(e.y0)+6}},[t._v(t._s(t.formatcurrency(e.value)))])],2):t._e()})),t._v(" "),a("g",{staticClass:"grandparent"},[a("rect",{attrs:{height:t.margin.top,width:t.width,y:-1*t.margin.top,id:t.parentId},on:{click:t.selectNode}}),t._v(" "),a("text",{staticStyle:{"fill-opacity":".7"},attrs:{dy:".65em",x:"6",y:"-14"}},[t._v("\n        "+t._s(t.selectedNode.id)+"\n      ")])])],1)])])},n=[],i={render:s,staticRenderFns:n};e.a=i},"5VO7":function(t,e){},"7SuB":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"heatmap",staticClass:"heatmap"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"title-header"},[t._v("\n        "+t._s(t.jsonData.descr)+"\n      ")])])]),t._v(" "),t._m(0,!1,!1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{attrs:{id:"heatmap_container"}})])])}],i={render:s,staticRenderFns:n};e.a=i},Bh7u:function(t,e){},Cxh0:function(t,e,a){"use strict";function s(t){a("Fo5n")}var n=a("mKvq"),i=a("Irmm"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-4dabe604",null);e.a=c.exports},Cz4s:function(t,e,a){"use strict";function s(t){a("tN4C")}var n=a("rimP"),i=a("TXv7"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-4c5ceb28",null);e.a=c.exports},"E+Pa":function(t,e,a){"use strict";function s(t){a("5VO7")}var n=a("a+HX"),i=a("YKXs"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-1944c11c",null);e.a=c.exports},FPom:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},["m"===t.currentView?a("heatmap-view"):t._e(),t._v(" "),"gt"===t.currentView?a("gt-view"):t._e(),t._v(" "),"t"===t.currentView?a("tabular-view"):t._e()],1)},n=[],i={render:s,staticRenderFns:n};e.a=i},Fo5n:function(t,e){},IPj6:function(t,e,a){"use strict";function s(t){a("Bh7u")}var n=a("Xzwx"),i=a("i64D"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-37931c3d",null);e.a=c.exports},Irmm:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"legend",staticClass:"legend"},[t.rootNode?a("div",{staticClass:"row legend"},t._l(t.rootNode.children,function(e,s){return a("div",{staticClass:"col-12 legend-wrap"},[a("div",{staticClass:"legend-label",style:{"background-color":t.color(s)}}),t._v(" "),a("div",{staticClass:"legend-text"},[t._v(t._s(e.key)+" ("+t._s(e.weight)+"% do total)")])])})):t._e()])},n=[],i={render:s,staticRenderFns:n};e.a=i},JxaJ:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[t.jsonData?a("div",{staticClass:"row header"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"header-title"},[t._v(t._s(t.jsonData.key))]),t._v(" "),a("div",{staticClass:"header-description"},[t._v(t._s(t.jsonData.descr))])]),t._v(" "),a("div",{staticClass:"col-6"},[a("ul",{staticClass:"nav"},[t.hasView("gt")?a("li",{staticClass:"nav-menu"},[a("a",{class:{active:"gt"===t.activePage},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeView("gt")}}},[a("i",{staticClass:"fa fa-th-large",attrs:{"aria-hidden":"true"}}),t._v("Resumo")])]):t._e(),t._v(" "),t.hasView("t")?a("li",{staticClass:"nav-menu"},[a("a",{class:{active:"t"===t.activePage},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeView("t")}}},[a("i",{staticClass:"fa fa-th-list",attrs:{"aria-hidden":"true"}}),t._v("Tabela")])]):t._e(),t._v(" "),t.hasView("m")?a("li",{staticClass:"nav-menu"},[a("a",{class:{active:"m"===t.activePage},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.changeView("m")}}},[a("i",{staticClass:"fa fa-globe",attrs:{"aria-hidden":"true"}}),t._v("Heatmap")])]):t._e(),t._v(" "),a("li",[a("div",{staticClass:"dropdown show"},[t.year?a("a",{staticClass:"btn btn-sm btn-secondary dropdown-toggle",attrs:{href:"https://example.com",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n              "+t._s(t.year)+"\n            ")]):t._e(),t._v(" "),t.allYears?a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},t._l(t.allYears,function(e){return a("a",{key:e,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changeYear(e)}}},[t._v(t._s(e))])})):t._e()])])])])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"main-content"},[t.dataLoaded?a("router-view"):t._e()],1)])])])},n=[],i={render:s,staticRenderFns:n};e.a=i},M93x:function(t,e,a){"use strict";function s(t){a("rOSY")}var n=a("xJD8"),i=a("JxaJ"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-51ec208b",null);e.a=c.exports},Mznr:function(t,e){},NFlm:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"cards",staticClass:"cards"},[a("div",{staticClass:"row single-card separator"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"card-title"},[t._v(t._s(t.totalValueForYear))]),t._v(" "),a("div",{staticClass:"card-descr"},[t._v("em "+t._s(t.year)+".")])]),t._v(" "),a("div",{staticClass:"col-6"},[a("div",{staticClass:"card-title"},[t._v(t._s(t.growth)+"%")]),t._v(" "),a("div",{staticClass:"card-descr"},[t._v("comparado com o ano anterior.")])])]),t._v(" "),a("div",{staticClass:"row single-card separator"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"card-title"},[t._v(t._s(t.averagePerYear))]),t._v(" "),a("div",{staticClass:"card-descr"},[t._v("em média, por ano.")])])]),t._v(" "),a("div",{staticClass:"row single-card separator"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"card-descr"},[t._v(t._s(t.jsonData.key))])]),t._v(" "),a("div",{staticClass:"col-6"},[a("div",{staticClass:"card-descr"},[a("a",{attrs:{href:t.jsonData.src,target:"_blank"}},[t._v(t._s(t.jsonData.src))])])])])])},n=[],i={render:s,staticRenderFns:n};e.a=i},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("M93x"),i=a("9JMe"),r=(a.n(i),a("YaEn")),o=a("wtEF");s.a.config.productionTip=!1,Object(i.sync)(o.a,r.a),new s.a({el:"#app",router:r.a,store:o.a,template:"<App/>",components:{App:n.a}})},"QV/C":function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("NYxO");e.a={name:"CardView",data:function(){return{}},mounted:function(){},computed:n()({},Object(i.b)(["jsonData","totalValueForYear","growth","averagePerYear","year"]))}},SH5d:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("IPj6"),r=a("NYxO");e.a={name:"TabularView",components:{tabularNode:i.a},data:function(){return{}},mounted:function(){},computed:n()({},Object(r.b)(["jsonData","totalValueForYear","growth","averagePerYear","allYears","year"])),methods:{}}},SpT7:function(t,e){},TXv7:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"chart",staticClass:"chart"},[t.selectedNode&&t.selectedNode.data?a("div",[a("div",{staticClass:"chart-title"},[t._v("\n      "+t._s(t.selectedNode.data.descr)+" (evolução)\n    ")]),t._v(" "),t.selectedNode?a("svg",{attrs:{height:t.height,width:t.width+20}},[a("g",[a("g",{staticClass:"multigrid",attrs:{transform:"translate(0, "+(t.height-30)+")"}},t._l(t.xTicks,function(e){return a("g",{staticClass:"tick major",staticStyle:{opacity:"1"},attrs:{transform:t.xTicksTransform(e)}},[a("line",{attrs:{x2:"0",y2:-1*t.height}}),t._v(" "),a("text",{staticStyle:{"text-anchor":"middle"},attrs:{dy:".71em",x:"0",y:"3"}})])})),t._v(" "),a("g",{staticClass:"multigrid",attrs:{transform:"translate("+t.xmargin+", 0)"}},t._l(t.yTicks,function(e){return a("g",{staticClass:"tick major",staticStyle:{opacity:"1"},attrs:{transform:t.yTicksTransform(e)}},[a("line",{attrs:{x2:t.width-50,y2:"0"}}),t._v(" "),a("text",{staticStyle:{"text-anchor":"end"},attrs:{dy:".32em",x:"-3",y:"0"}})])}))]),t._v(" "),a("g",{staticClass:"layers"},[a("svg",[a("g",{staticClass:"browser"},[a("path",{staticClass:"multiarea",staticStyle:{fill:"rgb(31, 119, 180)"},attrs:{d:t.multiareaPath}}),t._v(" "),a("path",{staticClass:"multiline",staticStyle:{stroke:"rgb(31, 119, 180)"},attrs:{d:t.linePath}})])])]),t._v(" "),a("g",{staticClass:"axis xAxis",attrs:{transform:"translate(0, "+(t.height-30)+")"}},t._l(t.allYears,function(e){return a("g",{staticClass:"tick major thisYear",staticStyle:{opacity:"1"},attrs:{transform:t.xAxisTransform(e)}},[a("line",{attrs:{x2:"0",y2:"0"}}),t._v(" "),a("text",{staticClass:"label",staticStyle:{"text-anchor":"middle"},attrs:{dy:".71em",x:"0",y:"10"}},[t._v("\n            "+t._s(e)+"\n          ")])])})),t._v(" "),a("g",{staticClass:"axis",attrs:{transform:"translate("+t.xmargin+", 0)"}},t._l(t.selectedNodeValues,function(e){return a("g",{staticClass:"tick major",staticStyle:{opacity:"1"},attrs:{transform:t.yAxisTransform(e)}},[a("line",{attrs:{x2:"0",y2:"0"}}),t._v(" "),a("text",{staticClass:"label",staticStyle:{"text-anchor":"end"},attrs:{dy:".32em",x:"-5",y:"0"}},[t._v("\n            "+t._s(t.formatCurrency(e))+"\n          ")])])}))]):t._e()]):t._e()])},n=[],i={render:s,staticRenderFns:n};e.a=i},Uhku:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("E+Pa"),r=a("YClX"),o=a("pLJA"),c=a("NYxO");e.a={name:"Main",components:{gtView:i.a,tabularView:r.a,heatmapView:o.a},data:function(){return{view:"gt"}},computed:n()({},Object(c.b)(["jsonData"]),{currentView:function(){return void 0!==this.$route.params.view?this.$route.params.view:this.jsonData.view.indexOf("gt")>-1?"gt":this.jsonData.view.indexOf("t")>-1?"t":this.jsonData.view.indexOf("h")>-1?"m":void 0}}),mounted:function(){},methods:{}}},Wid7:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("vwbq"),r=a("NYxO");e.a={name:"TreemapView",data:function(){return{rootNode:{},margin:{top:20,right:0,bottom:0,left:0},width:0,height:475,formatNumber:i.a(",d"),selected:null,color:{}}},watch:{selectedNode:function(t,e){this.$store.commit("SET_SELECTED_NODE",t)},year:function(){this.initialize(),this.accumulate(this.rootNode,this),this.treemap(this.rootNode)}},mounted:function(){var t=this;t.color=i.d(i.e),this.$nextTick(function(){t.width=t.$refs.treemap.clientWidth,t.initialize(),t.accumulate(t.rootNode,t),t.treemap(t.rootNode)})},computed:n()({},Object(r.b)(["jsonData","year"]),{parentId:function(){return void 0===this.selectedNode.parent||null===this.selectedNode.parent?this.selectedNode.id:this.selectedNode.parent.id},x:function(){return i.c().domain([0,this.width]).range([0,this.width])},y:function(){return i.c().domain([0,this.height-this.margin.top-this.margin.bottom]).range([0,this.height-this.margin.top-this.margin.bottom])},treemap:function(){return i.f().size([this.width,this.height]).round(!1).paddingInner(0)},selectedNode:function(){var t=null;if(this.selected){var e=this.getNodeById(this.rootNode,this.selected,this);t=e._children?e:e.parent}else t=this.rootNode;return this.x.domain([t.x0,t.x0+(t.x1-t.x0)]),this.y.domain([t.y0,t.y0+(t.y1-t.y0)]),this.$store.commit("SET_SELECTED_NODE",t),t},indexOfYear:function(){return this.jsonData.values.map(function(t){return t.year}).indexOf(this.year)}}),methods:{initialize:function(){var t=this,e=this;e.jsonData&&(e.rootNode=i.b(e.jsonData).eachBefore(function(t){t.id=(t.parent?t.parent.id+".":"")+t.data.key,t.key=t.data.key,t.values=t.data.values}).sum(function(e){return e.values[t.indexOfYear].val}).sort(function(t,e){return e.height-t.height||e.value-t.value}),e.rootNode.x=e.rootNode.y=0,e.rootNode.x1=e.width,e.rootNode.y1=e.height,e.rootNode.depth=0,this.$store.commit("SET_ROOT_NODE",e.rootNode))},accumulate:function(t,e){return t._children=t.children,t._children?(t.value=t._children.reduce(function(t,a){return t+e.accumulate(a,e)},0),t.value):t.value},formatcurrency:function(t){return t*=1e3,void 0===t?"N/A":t>=1e6?"€"+Math.round(t/1e6).toString()+" M":t<1e6&&t>=1e3?"€"+Math.round(t/1e3).toString()+".000":t<1&&0!==t?"c"+Math.round(100*t).toString():"€ "+t.toString()},getNodeById:function(t,e,a){if(t.id===e)return t;if(t._children)for(var s=0;s<t._children.length;s++){var n=a.getNodeById(t._children[s],e,a);if(n)return n}},selectNode:function(t){this.selected=t.target.id}}}},Xzwx:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("vwbq"),r=a("NYxO"),o=a("+00z");a.n(o);e.a={name:"TabularNode",props:["nodes","label","depth","values","impact","value"],data:function(){return{showC:!1}},mounted:function(){},computed:n()({},Object(r.b)(["jsonData","totalValueForYear","allYears","growth","averagePerYear","year"]),{nodeValues:function(){if(this.values)return this.values.map(function(t){return t.val})},showChildren:function(){return!(this.depth>0&&!this.showC)},growth:function(){var t=this,e=this.values.filter(function(e){return e.year===t.year.toString()}),a=this.values.filter(function(e){return e.year===(t.year-1).toString()});return a=a.length?a:[{val:0}],(100*(e[0].val-a[0].val)/e[0].val).toFixed(2)},xscale:function(){return i.c().domain([parseInt(this.allYears[0]),parseInt(this.allYears[this.allYears.length-1])]).range([0,100])},yscale:function(){return i.c().domain([0,1.2*this.nodeValues.reduce(function(t,e){return Math.max(t,e)})]).range([40,0])},linePath:function(){for(var t=[],e=0;e<this.allYears.length;e++)t.push(this.xscale(this.allYears[e])),t.push(this.yscale(this.nodeValues[e]));t=o.getCurvePoints(t);for(var a="",s=0;s<t.length;s++)a+=t[s]+", ";return"\n        M\n        "+this.xscale(this.allYears[0])+", "+this.yscale(this.nodeValues[0])+"\n        L\n        "+a+"\n      "}}),methods:{toggleChildren:function(){this.showC=!this.showC},getImpact:function(t){var e=this,a=this.values.filter(function(t){return t.year===e.year.toString()});return(100*t.values.filter(function(t){return t.year===e.year.toString()})[0].val/a[0].val).toFixed(2)},getValue:function(t){var e=this;return this.formatcurrency(t.values.filter(function(t){return t.year===e.year.toString()})[0].val)},formatcurrency:function(t){return t*=1e3,void 0===t?"N/A":t>=1e6?"€"+Math.round(t/1e6).toString()+" M":t<1e6&&t>=1e3?"€"+Math.round(t/1e3).toString()+".000":t<1&&0!==t?"c"+Math.round(100*t).toString():"€ "+t.toString()}}}},YClX:function(t,e,a){"use strict";function s(t){a("qOO6")}var n=a("SH5d"),i=a("p2S8"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-5295d8f7",null);e.a=c.exports},YKXs:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"title-header"},[t._v("\n        "+t._s(t.jsonData.descr)+"\n      ")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"summary"===t.activeView},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.setActive("summary","card-view")}}},[t._v("Summary")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"legend"===t.activeView},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.setActive("legend","legend-view")}}},[t._v("Legend")])])]),t._v(" "),a("transition",{attrs:{name:"slide",mode:"out-in"}},[a(t.activeComponent,{tag:"component"})],1),t._v(" "),a("chart-view")],1),t._v(" "),a("div",{staticClass:"col-6 component-wrapper"},[a("treemap-view")],1)])])},n=[],i={render:s,staticRenderFns:n};e.a=i},YaEn:function(t,e,a){"use strict";var s=a("7+uW"),n=a("/ocq"),i=a("s6+2");s.a.use(n.a),e.a=new n.a({routes:[{path:"/:budget_id/:view_id/:view?/:year?",name:"Main",component:i.a}]})},"a+HX":function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("j/CH"),r=a("Cz4s"),o=a("kbfn"),c=a("Cxh0"),l=a("NYxO");e.a={name:"GTView",components:{treemapView:i.a,chartView:r.a,cardView:o.a,legendView:c.a},data:function(){return{activeView:"summary",activeComponent:"card-view"}},mounted:function(){},computed:n()({},Object(l.b)(["jsonData"])),methods:{setActive:function(t,e){this.activeView=t,this.activeComponent=e}}}},c2OR:function(t,e){},i64D:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fadeHeight",mode:"out-in"}},[a("div",{ref:"tabular-node",staticClass:"tabular-node"},[a("div",{staticClass:"row label-wrapper",on:{click:t.toggleChildren}},[a("div",{staticClass:"col-4"},[a("div",[t.nodes?a("i",{staticClass:"fa",class:{"fa-angle-right":!t.showC,"fa-angle-down":t.showC},attrs:{"aria-hidden":"true"}}):t._e(),t._v("\n          "+t._s(t.label)+"\n        ")])]),t._v(" "),a("div",{staticClass:"col-2"},[t._v("\n        "+t._s(t.growth<0?t.growth:"+"+t.growth)+"%\n      ")]),t._v(" "),a("div",{staticClass:"col-2"},[a("svg",{staticClass:"graph",attrs:{height:"40",width:"100"}},[a("g",{staticClass:"browser"},[a("path",{staticClass:"multiline line",staticStyle:{stroke:"rgb(31, 119, 180)"},attrs:{d:t.linePath}})])])]),t._v(" "),a("div",{staticClass:"col-2"},[t._v("\n        "+t._s(t.impact)+"%\n      ")]),t._v(" "),a("div",{staticClass:"col-2"},[t._v("\n        "+t._s(t.value)+"\n      ")])]),t._v(" "),t._l(t.nodes,function(e){return t.showChildren?a("tabular-node",{key:e.id,attrs:{nodes:e.children,label:e.key,depth:t.depth+1,values:e.values,impact:t.getImpact(e),value:t.getValue(e)}}):t._e()})],2)])},n=[],i={render:s,staticRenderFns:n};e.a=i},"j/CH":function(t,e,a){"use strict";function s(t){a("Mznr")}var n=a("Wid7"),i=a("0Ckn"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-d6c4928e",null);e.a=c.exports},kbfn:function(t,e,a){"use strict";function s(t){a("p19L")}var n=a("QV/C"),i=a("NFlm"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-bfbf57e4",null);e.a=c.exports},mKvq:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("vwbq"),r=a("NYxO");e.a={name:"LegendView",data:function(){return{}},mounted:function(){},computed:n()({},Object(r.b)(["rootNode"]),{color:function(){return i.d(i.e)}}),methods:{}}},mUbh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"getData",function(){return o});var s=a("//Fk"),n=a.n(s),i=a("mtWM"),r=a.n(i),o=function(t,e){return new n.a(function(a,s){r.a.get("http://closer-project.com/api/view/"+e.budget_id+"/"+e.view_id).then(function(e){t.commit("SET_DATA",e.data),a(e)}).catch(function(t){console.log(t),s(t)})})}},p19L:function(t,e){},p2S8:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"cards",staticClass:"tabular"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"title-header"},[t._v("\n        "+t._s(t.jsonData.descr)+"\n      ")])])]),t._v(" "),t._m(0,!1,!1),t._v(" "),a("tabular-node",{attrs:{nodes:t.jsonData.children,depth:0,label:t.jsonData.descr,values:t.jsonData.values,impact:"100",value:t.totalValueForYear}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row header"},[a("div",{staticClass:"col-4"},[t._v("\n      Nome\n    ")]),t._v(" "),a("div",{staticClass:"col-2"},[t._v("\n      Crescimento\n    ")]),t._v(" "),a("div",{staticClass:"col-2"},[t._v("\n      Variação (total)\n    ")]),t._v(" "),a("div",{staticClass:"col-2"},[t._v("\n      Impacto\n    ")]),t._v(" "),a("div",{staticClass:"col-2"},[t._v("\n      Valor\n    ")])])}],i={render:s,staticRenderFns:n};e.a=i},pLJA:function(t,e,a){"use strict";function s(t){a("c2OR")}var n=a("pgOi"),i=a("7SuB"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-d1fb5a26",null);e.a=c.exports},pgOi:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("NYxO");e.a={name:"HeatmapView",data:function(){return{map:null,heatmap:null,coords:[]}},mounted:function(){this.map=new google.maps.Map(document.getElementById("heatmap_container"),{zoom:13,center:{lat:parseFloat(this.jsonData.coords.split(",")[0]),lng:parseFloat(this.jsonData.coords.split(",")[1])},mapTypeId:"satellite"}),this.heatmap=new google.maps.visualization.HeatmapLayer({data:this.getPoints,map:this.map,radius:50})},computed:n()({},Object(i.b)(["jsonData","totalValueForYear","growth","averagePerYear","year"]),{getPoints:function(){var t=[];this.getCoords(this.jsonData.children);for(var e=0;e<this.coords.length;e++)t[e]=new google.maps.LatLng(this.coords[e][0],this.coords[e][1]);return t}}),methods:{getCoords:function(t){for(var e in t)t[e].hasOwnProperty("coords")&&this.coords.push(t[e].coords.split(",").map(function(t){return t.trim()})),t[e].hasOwnProperty("children")&&this.getCoords(t[e].children)}}}},qOO6:function(t,e){},rOSY:function(t,e){},rimP:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("vwbq"),r=a("+00z"),o=(a.n(r),a("NYxO"));e.a={name:"ChartView",data:function(){return{rootNode:{},width:0,height:230,xmargin:50,ymargin:30,xTicks:13,yTicks:7}},watch:{},mounted:function(){var t=this;this.color=i.d(i.e),this.$nextTick(function(){t.width=t.$refs.chart.clientWidth})},computed:n()({},Object(o.b)(["jsonData","year","allYears","selectedNode"]),{selectedNodeValues:function(){if(this.selectedNode.values)return this.selectedNode.values.map(function(t){return t.val})},xscale:function(){return i.c().domain([parseInt(this.allYears[0]),parseInt(this.allYears[this.allYears.length-1])]).range([this.xmargin,this.width])},yscale:function(){if(this.selectedNodeValues)return i.c().domain([0,1.2*this.selectedNodeValues.reduce(function(t,e){return Math.max(t,e)})]).range([this.height-this.ymargin,10])},xTickSize:function(){return this.xscale.range()[1]/this.xTicks},yTickSize:function(){if(this.yscale)return this.yscale.range()[0]/this.yTicks},indexOfYear:function(){return this.jsonData.values.map(function(t){return t.year}).indexOf(this.year)},linePath:function(){if(this.allYears&&this.selectedNodeValues){for(var t=[],e=0;e<this.allYears.length;e++)t.push(this.xscale(this.allYears[e])),t.push(this.yscale(this.selectedNodeValues[e]));t=r.getCurvePoints(t);for(var a="",s=0;s<t.length;s++)a+=t[s]+", ";return"\n          M\n          "+this.xscale(this.allYears[0])+", "+this.yscale(this.selectedNodeValues[0])+"\n          L\n          "+a+"\n        "}},multiareaPath:function(){if(this.allYears&&this.selectedNodeValues){for(var t=[],e=0;e<this.allYears.length;e++)t.push(this.xscale(this.allYears[e])),t.push(this.yscale(this.selectedNodeValues[e]));t=r.getCurvePoints(t);for(var a="",s=0;s<t.length;s++)a+=t[s]+", ";return"\n          M\n          "+this.xscale(this.allYears[0])+", "+this.yscale(this.selectedNodeValues[0])+"\n          L\n          "+a+"\n          L\n          "+this.width+","+(this.height-this.ymargin)+"\n          L\n          "+this.xscale(this.allYears[0])+","+(this.height-this.ymargin)+"\n          L\n          "+this.xscale(this.allYears[0])+","+this.yscale(this.selectedNodeValues[0])+" \n        "}}}),methods:{xTicksTransform:function(t){return"translate("+this.xTickSize*t+", 0)"},yTicksTransform:function(t){return"translate(0, "+this.yTickSize*t+")"},xAxisTransform:function(t){return"translate("+this.xscale(parseInt(t))+", 0)"},yAxisTransform:function(t){return"translate(0, "+this.yscale(t)+")"},formatCurrency:function(t){return t*=1e3,void 0===t?"N/A":t>=1e6?"€"+Math.round(t/1e6).toString()+" M":t<1e6&&t>=1e3?"€"+Math.round(t/1e3).toString()+".000":t<1&&0!==t?"c"+Math.round(100*t).toString():"€ "+t.toString()}}}},"s6+2":function(t,e,a){"use strict";function s(t){a("SpT7")}var n=a("Uhku"),i=a("FPom"),r=a("VU/8"),o=s,c=r(n.a,i.a,!1,o,"data-v-d0899bc8",null);e.a=c.exports},tN4C:function(t,e){},wtEF:function(t,e,a){"use strict";var s=a("7+uW"),n=a("NYxO"),i=a("mUbh");s.a.use(n.a),e.a=new n.a.Store({state:{jsonData:null,rootNode:null,selectedNode:null},actions:i,strict:!1,mutations:{SET_DATA:function(t,e){t.jsonData=e},SET_ROOT_NODE:function(t,e){t.rootNode=r.setWeights(e)},SET_SELECTED_NODE:function(t,e){t.selectedNode=e}},getters:{jsonData:function(t){return t.jsonData},rootNode:function(t){return t.rootNode},selectedNode:function(t){return t.selectedNode},totalValueForYear:function(t,e){return r.totalValueForYear(t,e.year)},growth:function(t,e){return r.growth(t,e.year)},averagePerYear:function(t){return r.averagePerYear(t)},year:function(t){return void 0===t.route.params.year?t.jsonData.values[0].year:t.route.params.year},allYears:function(t){if(t.jsonData)return t.jsonData.values.map(function(t){return t.year})}}});var r={totalValueForYear:function(t,e){var a=t.jsonData.values.filter(function(t){return t.year===e.toString()});return a.length>0?this.formatCurrency(parseInt(a[0].val)):0},growth:function(t,e){var a=t.jsonData.values.filter(function(t){return t.year===e.toString()}),s=t.jsonData.values.filter(function(t){return t.year===(e-1).toString()});return s=s.length?s:[{val:0}],(100*(a[0].val-s[0].val)/a[0].val).toFixed(2)},averagePerYear:function(t){var e=t.jsonData.values.reduce(function(t,e){return t+e.val},0);return this.formatCurrency(parseInt(e)/t.jsonData.values.length)},formatCurrency:function(t){return t*=1e3,void 0===t?"N/A":t>=1e6?"€"+Math.round(t/1e6).toString()+" M":t<1e6&&t>=1e3?"€"+Math.round(t/1e3).toString()+".000":t<1&&0!==t?"c"+Math.round(100*t).toString():"€ "+t.toString()},setWeights:function(t){var e=t.children.reduce(function(t,e){return t+e.value},0),a=t.children.map(function(t){return t.weight=(100*t.value/e).toFixed(2),t});return t.children=a,t}}},xJD8:function(t,e,a){"use strict";var s=a("Dd8w"),n=a.n(s),i=a("NYxO");e.a={name:"app",data:function(){return{dataLoaded:!1,page:"gt"}},computed:n()({},Object(i.b)(["jsonData","year","allYears"]),{activePage:function(){return this.page}}),mounted:function(){var t=this,e={budget_id:this.$route.params.budget_id,view_id:this.$route.params.view_id};this.$store.dispatch("getData",e).then(function(e){t.dataLoaded=!0},function(t){console.log(t)})},methods:{changeView:function(t){this.page=t,this.$router.push({params:{view:""+t,year:""+this.year}})},changeYear:function(t){this.$router.push({params:{year:""+t}})},hasView:function(t){return this.jsonData.view.indexOf(t)>-1}}}}},["NHnr"]);
//# sourceMappingURL=app.a02f7fecfa285032c699.js.map